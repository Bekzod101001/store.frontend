"use strict";(self["webpackChunkazon_kitoblari"]=self["webpackChunkazon_kitoblari"]||[]).push([[296],{13296:function(t,e,r){r.r(e),r.d(e,{default:function(){return c}});var s=function(){var t=this,e=t._self._c;return t.pageLoaded?e("div",{staticClass:"pages"},[e("div",{staticClass:"orders__row"},t._l(t.computedOrders,(function(r,s){return e("div",{key:s,staticClass:"orders__item"},[e("div",{staticClass:"orders__item__details"},[e("h2",{staticClass:"orders__item__details__title"},[t._v(" "+t._s(t.$t("order.detail.title"))+" ")]),e("p",[e("strong",[t._v(t._s(t.$t("order.detail.created"))+":")]),t._v(" "+t._s(t.dateFormatter(r.createdAt))+" ")]),e("p",[e("strong",[t._v("total price:")]),t._v(" "+t._s(r.total_price)+" ")])]),e("table",{staticClass:"orders__table"},[e("thead",[e("tr",t._l(t.columns,(function(r,s){return e("th",{key:s},[t._v(" "+t._s(r)+" ")])})),0)]),e("tbody",t._l(r.carts,(function(r,s){return e("tr",{key:s},[e("td",[t._v(t._s(r.product.data.attributes.name))]),e("td",[t._v(t._s(r.product.data.attributes.author))]),e("td",[t._v(t._s(t.sumFormatter(r.product.data.attributes.price)))]),e("td",[t._v(t._s(r.amount))])])})),0)])])})),0)]):t._e()},a=[],d=(r(57658),r(88621)),i=r(90408),o=r(12636),n={name:"accountOrders",data:()=>({orders:{},credentials:{email:"",password:""},pageLoaded:!1,isRememberMeActive:!1}),computed:{...(0,i.Se)("auth",["userID"]),columns(){return["Kitob nomi","Avtor","Narxi","Soni"]},computedOrders(){if(!this.orders.data)return[];const t=[];return this.orders.data.map((e=>{t.push({id:e.id,...e.attributes})})),console.log(t),t}},methods:{...(0,i.OI)("preloader",["setPreloader"]),sumFormatter:o._S,dateFormatter:o.vh,signIn(){this.$store.dispatch("auth/signIn",this.credentials)},async getOrders(){const{data:t}=await d.Z.order.get({populate:["carts.product"],filters:{user:{id:{$eq:this.userID}}}});this.orders=t,this.pageLoaded=!0}},mounted(){this.setPreloader(!0),this.getOrders().finally((()=>{this.setPreloader(!1)}))}},u=n,l=r(1001),_=(0,l.Z)(u,s,a,!1,null,null,null),c=_.exports}}]);
//# sourceMappingURL=296.1b94a256.js.map