"use strict";(self["webpackChunkazon_kitoblari"]=self["webpackChunkazon_kitoblari"]||[]).push([[381],{94381:function(t,s,a){a.r(s),a.d(s,{default:function(){return p}});var i=function(){var t=this,s=t._self._c;return s("main",{staticClass:"pages shopping"},[s("div",{staticClass:"container"},[s("div",{staticClass:"pages-wrapper"},[s("div",{staticClass:"pages-breadcrumbs"},[s("ul",[s("li",[s("i",{staticClass:"icon-home"}),s("router-link",{attrs:{to:"/"}},[t._v(" "+t._s(t.$t("navigation.main"))+" ")])],1),s("li",[s("i",{staticClass:"icon-angle-right"}),s("router-link",{attrs:{to:"/"}},[t._v(" "+t._s(t.$t("navigation.basket"))+" ")])],1)])]),s("div",{staticClass:"pages-title"},[s("h2",[t._v(" "+t._s(t.$t("navigation.main"))+" "),s("span",[t._v("("+t._s(t.totalProductsAmount)+")")])])]),s("div",{staticClass:"shopping-outside"},[s("a-row",{attrs:{type:"flex",gutter:[{xl:24,sm:16,xs:16},{xl:24,sm:16,xs:16}]}},[s("a-col",{attrs:{lg:18,md:24,sm:24,xs:24}},[s("div",{staticClass:"shopping-wrapper"},[s("div",{staticClass:"shopping-body"},t._l(t.productsInBasket,(function(t){return s("Card",{key:t.id,attrs:{info:t}})})),1)])]),s("a-col",{attrs:{lg:6,md:12,sm:12,xs:24}},[s("div",{staticClass:"shopping-sidebar"},[t.isLoggedIn?s("a-button",{attrs:{loading:t.isOrderLoading},on:{click:t.makeOrder}},[t._v(" "+t._s(t.$t("shopping.order"))+" ")]):t._e(),s("ul",[s("li",[s("b",[t._v(t._s(t.$t("shopping.amount"))+":")]),s("b",[t._v(t._s(t.sumFormatter(t.totalSum))+" UZS")])]),s("li",[s("span",[t._v(t._s(t.$t("shopping.sale"))+":")]),s("small",[t.totalSale?[t._v(" -"+t._s(t.sumFormatter(t.totalSale))+" ")]:[t._v(" 0 ")],t._v(" UZS")],2)]),s("li",[s("span",[t._v(t._s(t.$t("shopping.amountProducts"))+":")]),s("span",[t._v(t._s(t.sumFormatter(t.totalProductsAmount))+" ta")])])])],1)])],1)],1)])])])},o=[],e=(a(57658),a(90408)),r=a(12636),n=a(88621),l={components:{Card:()=>a.e(393).then(a.bind(a,54393))},data:()=>({isOrderLoading:!1}),computed:{...(0,e.Se)("basket",["totalSum","totalSale","totalProductsAmount","productsInBasket"]),...(0,e.Se)("auth",["isLoggedIn","userID"])},methods:{...(0,e.OI)("basket",["clearBasket"]),sumFormatter:r._S,async makeOrder(){const t=this.productsInBasket.map((t=>(t={product:{data:{id:t.id}},amount:t.amount},t)));this.isOrderLoading=!0;try{await n.Z.order.post({data:{comment:"",total_price:this.totalSum,Cart:t,user:{data:{id:this.userID}}}}),this.clearBasket(),this.isOrderLoading=!1,this.$message.success("Ваш заказ успешно принят"),this.$router.push({name:"AccountOrders"})}catch(s){console.log(s),this.$message.error(s.message)}}}},u=l,d=a(1001),c=(0,d.Z)(u,i,o,!1,null,null,null),p=c.exports}}]);
//# sourceMappingURL=381.09dd44d8.js.map