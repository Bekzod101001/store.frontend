{"version":3,"file":"js/296.1b94a256.js","mappings":"yKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAQF,EAAII,WAAYF,EAAG,MAAM,CAACG,YAAY,SAAS,CAACH,EAAG,MAAM,CAACG,YAAY,eAAeL,EAAIM,GAAIN,EAAIO,gBAAgB,SAASC,EAAMC,GAAO,OAAOP,EAAG,MAAM,CAACQ,IAAID,EAAMJ,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACG,YAAY,yBAAyB,CAACH,EAAG,KAAK,CAACG,YAAY,gCAAgC,CAACL,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,GAAG,uBAAuB,OAAOX,EAAG,IAAI,CAACA,EAAG,SAAS,CAACF,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIa,GAAG,yBAAyB,OAAOb,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIc,cAAcN,EAAMO,YAAY,OAAOb,EAAG,IAAI,CAACA,EAAG,SAAS,CAACF,EAAIW,GAAG,kBAAkBX,EAAIW,GAAG,IAAIX,EAAIY,GAAGJ,EAAMQ,aAAa,SAASd,EAAG,QAAQ,CAACG,YAAY,iBAAiB,CAACH,EAAG,QAAQ,CAACA,EAAG,KAAKF,EAAIM,GAAIN,EAAIiB,SAAS,SAASC,EAAOC,GAAa,OAAOjB,EAAG,KAAK,CAACQ,IAAIS,GAAa,CAACnB,EAAIW,GAAG,IAAIX,EAAIY,GAAGM,GAAQ,MAAM,IAAG,KAAKhB,EAAG,QAAQF,EAAIM,GAAIE,EAAMY,OAAO,SAASC,EAAKC,GAAW,OAAOpB,EAAG,KAAK,CAACQ,IAAIY,GAAW,CAACpB,EAAG,KAAK,CAACF,EAAIW,GAAGX,EAAIY,GAAGS,EAAKE,QAAQC,KAAKC,WAAWC,SAASxB,EAAG,KAAK,CAACF,EAAIW,GAAGX,EAAIY,GAAGS,EAAKE,QAAQC,KAAKC,WAAWE,WAAWzB,EAAG,KAAK,CAACF,EAAIW,GAAGX,EAAIY,GAAGZ,EAAI4B,aAAaP,EAAKE,QAAQC,KAAKC,WAAWI,WAAW3B,EAAG,KAAK,CAACF,EAAIW,GAAGX,EAAIY,GAAGS,EAAKS,YAAY,IAAG,MAAM,IAAG,KAAK9B,EAAI+B,IAC/pC,EACIC,EAAkB,G,4CCwDtB,GACAN,KAAAA,gBACAF,KAAAA,KAAAA,CACAS,OAAAA,CAAAA,EACAC,YAAAA,CACAC,MAAAA,GACAC,SAAAA,IAEAhC,YAAAA,EACAiC,oBAAAA,IAEAC,SAAAA,KACA,2BAEArB,UACA,OACA,aACA,QACA,QACA,OAEA,EAEAV,iBACA,8BACA,WAQA,OAPA,0BACAgC,EAAAA,KAAAA,CACAC,GAAAA,EAAAA,MACA,cACA,IAEAC,QAAAA,IAAAA,GACA,CACA,GAEAC,QAAAA,KACA,sCAEAd,aAAAA,EAAAA,GACAd,cAAAA,EAAAA,GAEA6B,SACA,oDACA,EAEA,kBACA,WAAAnB,SAAA,eACAoB,SAAAA,CAAAA,iBACAC,QAAAA,CACAC,KAAAA,CACAN,GAAAA,CACAO,IAAAA,KAAAA,YAMA,cACA,kBACA,GAEAC,UACA,sBACA,iBACAC,SAAAA,KACA,wBAEA,GC9H+P,I,UCO3PC,GAAY,OACd,EACAnD,EACAiC,GACA,EACA,KACA,KACA,MAIF,EAAekB,EAAiB,O","sources":["webpack://azon-kitoblari/./src/pages/account/orders.vue","webpack://azon-kitoblari/src/pages/account/orders.vue","webpack://azon-kitoblari/./src/pages/account/orders.vue?1bc7","webpack://azon-kitoblari/./src/pages/account/orders.vue?4d14"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.pageLoaded)?_c('div',{staticClass:\"pages\"},[_c('div',{staticClass:\"orders__row\"},_vm._l((_vm.computedOrders),function(order,index){return _c('div',{key:index,staticClass:\"orders__item\"},[_c('div',{staticClass:\"orders__item__details\"},[_c('h2',{staticClass:\"orders__item__details__title\"},[_vm._v(\" \"+_vm._s(_vm.$t('order.detail.title'))+\" \")]),_c('p',[_c('strong',[_vm._v(_vm._s(_vm.$t('order.detail.created'))+\":\")]),_vm._v(\" \"+_vm._s(_vm.dateFormatter(order.createdAt))+\" \")]),_c('p',[_c('strong',[_vm._v(\"total price:\")]),_vm._v(\" \"+_vm._s(order.total_price)+\" \")])]),_c('table',{staticClass:\"orders__table\"},[_c('thead',[_c('tr',_vm._l((_vm.columns),function(column,columnIndex){return _c('th',{key:columnIndex},[_vm._v(\" \"+_vm._s(column)+\" \")])}),0)]),_c('tbody',_vm._l((order.carts),function(item,itemIndex){return _c('tr',{key:itemIndex},[_c('td',[_vm._v(_vm._s(item.product.data.attributes.name))]),_c('td',[_vm._v(_vm._s(item.product.data.attributes.author))]),_c('td',[_vm._v(_vm._s(_vm.sumFormatter(item.product.data.attributes.price)))]),_c('td',[_vm._v(_vm._s(item.amount))])])}),0)])])}),0)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n      class=\"pages\"\n      v-if=\"pageLoaded\"\n  >\n    <div class=\"orders__row\">\n      <div\n          v-for=\"(order, index) in computedOrders\"\n          :key=\"index\"\n          class=\"orders__item\"\n      >\n        <div class=\"orders__item__details\">\n          <h2 class=\"orders__item__details__title\">\n            {{ $t('order.detail.title') }}\n          </h2>\n          <p>\n            <strong>{{ $t('order.detail.created') }}:</strong>\n            {{ dateFormatter(order.createdAt) }}\n          </p>\n          <p>\n            <strong>total price:</strong>\n            {{ order.total_price }}\n          </p>\n        </div>\n        <table class=\"orders__table\">\n          <thead>\n          <tr>\n            <th\n                v-for=\"(column, columnIndex) in columns\"\n                :key=\"columnIndex\"\n            >\n              {{ column }}\n            </th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr\n              v-for=\"(item, itemIndex) in order.carts\"\n              :key=\"itemIndex\"\n          >\n            <td>{{ item.product.data.attributes.name }}</td>\n            <td>{{ item.product.data.attributes.author }}</td>\n            <td>{{ sumFormatter(item.product.data.attributes.price) }}</td>\n            <td>{{ item.amount }}</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport api from \"@/api\";\nimport {mapGetters, mapMutations} from \"vuex\";\nimport {dateFormatter, sumFormatter} from \"@/utils/helper\";\n\nexport default {\n  name: \"accountOrders\",\n  data: () => ({\n    orders: {},\n    credentials: {\n      email: '',\n      password: ''\n    },\n    pageLoaded: false,\n    isRememberMeActive: false\n  }),\n  computed: {\n    ...mapGetters('auth', ['userID']),\n\n    columns() {\n      return [\n        'Kitob nomi',\n        'Avtor',\n        'Narxi',\n        'Soni',\n      ]\n    },\n\n    computedOrders() {\n      if (!this.orders.data) return []\n      const modified = []\n      this.orders.data.map(item => {\n        modified.push({\n          id: item.id,\n          ...item.attributes\n        })\n      })\n      console.log(modified)\n      return modified\n    }\n  },\n  methods: {\n    ...mapMutations('preloader', ['setPreloader']),\n\n    sumFormatter,\n    dateFormatter,\n\n    signIn() {\n      this.$store.dispatch('auth/signIn', this.credentials)\n    },\n\n    async getOrders() {\n      const {data} = await api.order.get({\n        populate: ['carts.product'],\n        filters: {\n          user: {\n            id: {\n              $eq: this.userID\n            }\n          }\n        }\n      })\n\n      this.orders = data\n      this.pageLoaded = true\n    }\n  },\n  mounted() {\n    this.setPreloader(true)\n    this.getOrders()\n        .finally(() => {\n          this.setPreloader(false)\n        })\n  }\n}\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orders.vue?vue&type=template&id=51d48fea&\"\nimport script from \"./orders.vue?vue&type=script&lang=js&\"\nexport * from \"./orders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","pageLoaded","staticClass","_l","computedOrders","order","index","key","_v","_s","$t","dateFormatter","createdAt","total_price","columns","column","columnIndex","carts","item","itemIndex","product","data","attributes","name","author","sumFormatter","price","amount","_e","staticRenderFns","orders","credentials","email","password","isRememberMeActive","computed","modified","id","console","methods","signIn","populate","filters","user","$eq","mounted","finally","component"],"sourceRoot":""}