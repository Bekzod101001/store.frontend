"use strict";(self["webpackChunkazon_kitoblari"]=self["webpackChunkazon_kitoblari"]||[]).push([[574],{53053:function(e,t,s){s.d(t,{Z:function(){return y}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app-input"},[t("label",{staticClass:"app-input__label",attrs:{for:e.randomID}},[e._t("label"),e.required?t("sup",{staticClass:"app-input__label__required-mark"},[e._v(" * ")]):e._e()],2),"checkbox"===e.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.computedModelValue,expression:"computedModelValue"},{name:"v-maska",rawName:"v-v-maska"}],staticClass:"app-input__input",attrs:{id:e.randomID,required:e.required,"data-maska":e.maska,type:"checkbox"},domProps:{checked:Array.isArray(e.computedModelValue)?e._i(e.computedModelValue,null)>-1:e.computedModelValue},on:{change:function(t){var s=e.computedModelValue,a=t.target,n=!!a.checked;if(Array.isArray(s)){var i=null,o=e._i(s,i);a.checked?o<0&&(e.computedModelValue=s.concat([i])):o>-1&&(e.computedModelValue=s.slice(0,o).concat(s.slice(o+1)))}else e.computedModelValue=n}}}):"radio"===e.type?t("input",{directives:[{name:"model",rawName:"v-model",value:e.computedModelValue,expression:"computedModelValue"},{name:"v-maska",rawName:"v-v-maska"}],staticClass:"app-input__input",attrs:{id:e.randomID,required:e.required,"data-maska":e.maska,type:"radio"},domProps:{checked:e._q(e.computedModelValue,null)},on:{change:function(t){e.computedModelValue=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.computedModelValue,expression:"computedModelValue"},{name:"v-maska",rawName:"v-v-maska"}],staticClass:"app-input__input",attrs:{id:e.randomID,required:e.required,"data-maska":e.maska,type:e.type},domProps:{value:e.computedModelValue},on:{input:function(t){t.target.composing||(e.computedModelValue=t.target.value)}}})])},n=[],i=(s(57658),Object.defineProperty),o=(e,t,s)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,r=(e,t,s)=>(o(e,"symbol"!=typeof t?t+"":t,s),s);const l={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}};class u{constructor(e={}){var t;r(this,"opts",{}),r(this,"memo",new Map);const s={...e};if(null!=s.tokens){s.tokens=s.tokensReplace?{...s.tokens}:{...l,...s.tokens};for(const e of Object.values(s.tokens))"string"==typeof e.pattern&&(e.pattern=new RegExp(e.pattern))}else s.tokens=l;Array.isArray(s.mask)&&(s.mask.length>1?s.mask.sort(((e,t)=>e.length-t.length)):s.mask=null!=(t=s.mask[0])?t:""),""===s.mask&&(s.mask=null),this.opts=s}masked(e){return this.process(e,this.findMask(e))}unmasked(e){return this.process(e,this.findMask(e),!1)}isEager(){return!0===this.opts.eager}isReversed(){return!0===this.opts.reversed}completed(e){const t=this.findMask(e);if(null==this.opts.mask||null==t)return!1;const s=this.process(e,t).length;return"string"==typeof this.opts.mask?s>=this.opts.mask.length:"function"==typeof this.opts.mask?s>=t.length:this.opts.mask.filter((e=>s>=e.length)).length===this.opts.mask.length}findMask(e){var t,s;const a=this.opts.mask;if(null==a)return null;if("string"==typeof a)return a;if("function"==typeof a)return a(e);const n=this.process(e,null!=(t=a.slice(-1).pop())?t:"",!1);return null!=(s=a.find((t=>this.process(e,t,!1).length>=n.length)))?s:""}escapeMask(e){const t=[],s=[];return e.split("").forEach(((a,n)=>{"!"===a&&"!"!==e[n-1]?s.push(n-s.length):t.push(a)})),{mask:t.join(""),escaped:s}}process(e,t,s=!0){var a;if(null==t)return e;const n=`value=${e},mask=${t},masked=${s?1:0}`;if(this.memo.has(n))return this.memo.get(n);const{mask:i,escaped:o}=this.escapeMask(t),r=[],l=null!=this.opts.tokens?this.opts.tokens:{},u=this.isReversed()?-1:1,p=this.isReversed()?"unshift":"push",d=this.isReversed()?0:i.length-1,c=this.isReversed()?()=>f>-1&&v>-1:()=>f<i.length&&v<e.length,m=e=>!this.isReversed()&&e<=d||this.isReversed()&&e>=d;let h,k=-1,f=this.isReversed()?i.length-1:0,v=this.isReversed()?e.length-1:0;for(;c();){const t=i.charAt(f),n=l[t],c=null!=(null==n?void 0:n.transform)?n.transform(e.charAt(v)):e.charAt(v);if(o.includes(f)||null==n)s&&!this.isEager()&&r[p](t),c!==t||this.isEager()?h=t:v+=u,this.isEager()||(f+=u);else{if(null!=c.match(n.pattern))r[p](c),n.repeated?(-1===k?k=f:f===d&&f!==k&&(f=k-u),d===k&&(f-=u)):n.multiple&&(f-=u),f+=u;else if(n.multiple){const e=null!=(null==(a=r[v-u])?void 0:a.match(n.pattern)),t=i.charAt(f+u);e&&""!==t&&null==l[t]?(f+=u,v-=u):r[p]("")}else c===h?h=void 0:n.optional&&(f+=u,v-=u);v+=u}if(this.isEager())for(;m(f)&&(null==l[i.charAt(f)]||o.includes(f));)s?r[p](i.charAt(f)):i.charAt(f)===e.charAt(v)&&(v+=u),f+=u}return this.memo.set(n,r.join("")),this.memo.get(n)}}const p=e=>JSON.parse(e.replaceAll("'",'"')),d=(e,t={})=>{const s={...t};return null!=e.dataset.maska&&""!==e.dataset.maska&&(s.mask=m(e.dataset.maska)),null!=e.dataset.maskaEager&&(s.eager=c(e.dataset.maskaEager)),null!=e.dataset.maskaReversed&&(s.reversed=c(e.dataset.maskaReversed)),null!=e.dataset.maskaTokensReplace&&(s.tokensReplace=c(e.dataset.maskaTokensReplace)),null!=e.dataset.maskaTokens&&(s.tokens=h(e.dataset.maskaTokens)),s},c=e=>""===e||Boolean(JSON.parse(e)),m=e=>e.startsWith("[")&&e.endsWith("]")?p(e):e,h=e=>{if(e.startsWith("{")&&e.endsWith("}"))return p(e);const t={};return e.split("|").forEach((e=>{const s=e.split(":");t[s[0]]={pattern:new RegExp(s[1]),optional:"optional"===s[2],multiple:"multiple"===s[2],repeated:"repeated"===s[2]}})),t};class k{constructor(e,t={}){r(this,"items",new Map),r(this,"beforeinputEvent",(e=>{const t=e.target,s=this.items.get(t);s.isEager()&&"inputType"in e&&e.inputType.startsWith("delete")&&s.unmasked(t.value).length<=1&&this.setMaskedValue(t,"")})),r(this,"inputEvent",(e=>{if(e instanceof CustomEvent&&"input"===e.type&&null!=e.detail&&"masked"in e.detail)return;const t=e.target,s=this.items.get(t),a=t.value,n=t.selectionStart,i=t.selectionEnd;let o=a;if(s.isEager()){const t=s.unmasked(a),n=s.masked(t);""===t&&"data"in e&&null!=e.data?o=e.data:(n.startsWith(a)||s.completed(t))&&(o=t)}this.setMaskedValue(t,o),"inputType"in e&&(e.inputType.startsWith("delete")||null!=n&&n<a.length)&&t.setSelectionRange(n,i)})),this.options=t,"string"==typeof e?this.init(Array.from(document.querySelectorAll(e)),this.getMaskOpts(t)):this.init("length"in e?Array.from(e):[e],this.getMaskOpts(t))}destroy(){for(const e of this.items.keys())e.removeEventListener("input",this.inputEvent),e.removeEventListener("beforeinput",this.beforeinputEvent);this.items.clear()}needUpdate(e,t){const s=this.items.get(e),a=new u(d(e,this.getMaskOpts(t)));return JSON.stringify(s.opts)!==JSON.stringify(a.opts)}getMaskOpts(e){const{onMaska:t,preProcess:s,postProcess:a,...n}=e;return n}init(e,t){for(const s of e){const e=new u(d(s,t));this.items.set(s,e),""!==s.value&&this.setMaskedValue(s,s.value),s.addEventListener("input",this.inputEvent),s.addEventListener("beforeinput",this.beforeinputEvent)}}setMaskedValue(e,t){const s=this.items.get(e);null!=this.options.preProcess&&(t=this.options.preProcess(t)),t=s.masked(t),null!=this.options.postProcess&&(t=this.options.postProcess(t)),e.value=t;const a={masked:s.masked(t),unmasked:s.unmasked(t),completed:s.completed(t)};null!=this.options.onMaska&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach((e=>e(a))):this.options.onMaska(a)),e.dispatchEvent(new CustomEvent("maska",{detail:a})),e.dispatchEvent(new CustomEvent("input",{detail:a}))}}const f=new WeakMap,v=(e,t)=>{const s=e instanceof HTMLInputElement?e:e.querySelector("input"),a={...t.arg};if(null==s)return;const n=f.get(s);if(null!=n){if(!n.needUpdate(s,a))return;n.destroy()}if(null!=t.value){const e=t.value,s=t=>{e.masked=t.masked,e.unmasked=t.unmasked,e.completed=t.completed};a.onMaska=null==a.onMaska?s:Array.isArray(a.onMaska)?[...a.onMaska,s]:[a.onMaska,s]}f.set(s,new k(s,a)),setTimeout((()=>{""!==s.value&&s.dispatchEvent(new InputEvent("input"))}))};var g={name:"appInput",directives:{vMaska:v},props:{value:[String,Number],type:{type:String,default:"text",validate:e=>["text","email","number","search"].includes(e)},maska:String,required:{type:Boolean,default:!1}},data:()=>({randomID:Math.floor(99999*Math.random())}),computed:{computedModelValue:{get(){return this.value},set(e){this.$emit("input",e)}}}},_=g,b=s(1001),M=(0,b.Z)(_,a,n,!1,null,null,null),y=M.exports},57572:function(e,t,s){s.d(t,{Z:function(){return p}});var a=function(){var e=this,t=e._self._c;return t("app-input",{attrs:{type:"email",required:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Email ")]},proxy:!0}]),model:{value:e.computedModelValue,callback:function(t){e.computedModelValue=t},expression:"computedModelValue"}})},n=[],i=s(53053),o={name:"appInputEmail",components:{AppInput:i.Z},props:{value:String},computed:{computedModelValue:{get(){return this.value},set(e){this.$emit("input",e)}}}},r=o,l=s(1001),u=(0,l.Z)(r,a,n,!1,null,"371d70d8",null),p=u.exports},65600:function(e,t,s){s.d(t,{Z:function(){return p}});var a=function(){var e=this,t=e._self._c;return t("app-input",{attrs:{type:"password",required:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._t("label"),e.$slots.label?e._e():[e._v(" "+e._s(e.$t("home.password"))+" ")]]},proxy:!0}],null,!0),model:{value:e.computedModelValue,callback:function(t){e.computedModelValue=t},expression:"computedModelValue"}})},n=[],i=s(53053),o={name:"appInputPassword",components:{AppInput:i.Z},props:{value:String},computed:{computedModelValue:{get(){return this.value},set(e){this.$emit("input",e)}}}},r=o,l=s(1001),u=(0,l.Z)(r,a,n,!1,null,"d5d38ed0",null),p=u.exports},27574:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});s(57658);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pages sign sign-in"},[t("h2",{staticClass:"sign__title"},[e._v(" "+e._s(e.$t("signUp.title"))+" ")]),t("form",{staticClass:"form sign__form"},[t("div",{staticClass:"form__row"},[t("app-input",{attrs:{required:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s(e.$t("signUp.form.name")))]},proxy:!0}]),model:{value:e.newUser.firstName,callback:function(t){e.$set(e.newUser,"firstName",t)},expression:"newUser.firstName"}})],1),t("div",{staticClass:"form__row"},[t("app-input",{attrs:{required:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(e._s(e.$t("signUp.form.lastName")))]},proxy:!0}]),model:{value:e.newUser.lastName,callback:function(t){e.$set(e.newUser,"lastName",t)},expression:"newUser.lastName"}})],1),t("div",{staticClass:"form__row"},[t("app-input-email",{model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}})],1),t("div",{staticClass:"form__row"},[t("app-input-phone",{attrs:{required:""},model:{value:e.newUser.phone,callback:function(t){e.$set(e.newUser,"phone",t)},expression:"newUser.phone"}})],1),t("div",{staticClass:"form__row"},[t("app-input-password",{model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1),t("div",{staticClass:"form__row"},[t("a-checkbox",{model:{value:e.agree,callback:function(t){e.agree=t},expression:"agree"}},[e._v(" "+e._s(e.$t("signUp.form.text"))+" ")])],1),t("a-button",{staticClass:"btn--bg sign__form__submit-btn",attrs:{block:"",disabled:!e.agree,loading:e.isLoading},on:{click:function(t){return e.signUp()}}},[e._v(" "+e._s(e.$t("signUp.button.create"))+" ")]),t("p",{staticClass:"sign__form__text"},[e._v(e._s(e.$t("signUp.text")))]),t("a-button",{staticClass:"btn--outlined",attrs:{block:""},on:{click:function(t){return e.$router.push({name:"Sign In"})}}},[e._v(" "+e._s(e.$t("signUp.button.signIn"))+" ")])],1)])},n=[],i=s(65600),o=s(57572),r=s(53053),l=function(){var e=this,t=e._self._c;return t("app-input",{attrs:{maska:"+998 ## ### ## ##",required:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s(e.$t("home.phone"))+" ")]},proxy:!0}]),model:{value:e.formattedValue,callback:function(t){e.formattedValue=t},expression:"formattedValue"}})},u=[],p={name:"appInputPhone",components:{AppInput:r.Z},props:{value:String},data:()=>({formattedValue:""}),mounted(){this.formattedValue=this.value},watch:{formattedValue(e){let t=e.replace(/ /g,"").replace("+","");this.$emit("input",t)}}},d=p,c=s(1001),m=(0,c.Z)(d,l,u,!1,null,"50da4b62",null),h=m.exports,k=s(90408),f={name:"signIn",components:{AppInputPhone:h,AppInput:r.Z,AppInputEmail:o.Z,AppInputPassword:i.Z},data:()=>({agree:!1,newUser:{firstName:"Bekobod",lastName:"Tolipjonov",email:"bekzod101001@gmail.com",phone:"blablabla",password:"blablabla"},isLoading:!1}),computed:{...(0,k.Se)("auth",["isLoggedIn"])},methods:{signUp(){this.isLoading=!0,this.newUser.username=this.newUser.email,this.$store.dispatch("auth/signUp",this.newUser).then((()=>{this.$router.push({name:"home"})})).catch((e=>{"Email or Username are already taken"===e.response.data.error.message&&this.$message.error("Email or Username are already taken")})).finally((()=>{this.isLoading=!1}))}},beforeMount(){this.isLoggedIn&&this.$router.push({name:"home"})}},v=f,g=(0,c.Z)(v,a,n,!1,null,"5a57b794",null),_=g.exports}}]);
//# sourceMappingURL=574.84b470d7.js.map